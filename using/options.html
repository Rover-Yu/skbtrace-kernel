<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>3. Command line options &mdash; Skbtrace v20120916 documentation</title>
    <link rel="stylesheet" href="../static/default.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '20120916',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Skbtrace v20120916 documentation"
          href="../static/opensearch.xml"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="Skbtrace v20120916 documentation" href="../index.html" />
    <link rel="up" title="The Skbtace User Manual" href="index.html" />
    <link rel="next" title="4. Trace events list" href="events.html" />
    <link rel="prev" title="2. Building" href="building.html" />
    <link rel="shortcut icon" type="image/png" href="../static/py.png" />
 

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="events.html" title="4. Trace events list"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="building.html" title="2. Building"
             accesskey="P">previous</a> |</li>
        <li><img src="../_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li>
        <li><a href="../index.html">Skbtrace v20120916 documentation</a> &raquo;</li>

          <li><a href="index.html" accesskey="U">The Skbtace User Manual</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="command-line-options">
<span id="options"></span><h1>3. Command line options<a class="headerlink" href="#command-line-options" title="Permalink to this headline">¶</a></h1>
<p>Skbtrace provides below two user space utilties:</p>
<ul class="simple">
<li>skbtrace, this utility is used to record traced binary data from kernel into some files</li>
<li>skbparse, this utility is used to parse binary traced data into human readable text form.</li>
</ul>
<div class="section" id="skbtrace">
<h2>3.1. skbtrace<a class="headerlink" href="#skbtrace" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-r</span> <span class="pre">PATH</span></tt></dt>
<dd><p class="first">The mount point of debugfs file system. skbtrace use debugfs to read traced binary data from kernel. skbtrace tries to mount it if it was not mounted at PATH.</p>
<p class="last">Default is /sys/kernel/debug.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">-D</span> <span class="pre">DIR</span></tt></dt>
<dd><p class="first">The directory which record traced binary data into. skbtrace tries to create it first if it did not exist.</p>
<p class="last">Default is ./skbtrace.results</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">-w</span> <span class="pre">SECONDS</span></tt></dt>
<dd><p class="first">Sets run time to the number of seconds specified.</p>
<p class="last">Default: Run until receiving SIGINT signal (Press Ctrl-C and by kill command). Of course, you also can use SIGKILL to terminate skbtrace, but it is not recommended, because of skbtrace may drop some trace data at this time, and then you probably can not unload these skbtrace kernel modules since non-zero reference counts (Tips: normal terminating skbtrace again can reset reference count of kernel modules).</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">-b</span> <span class="pre">BYTES</span></tt> <tt class="docutils literal"><span class="pre">-n</span> <span class="pre">COUNT</span></tt></dt>
<dd>Specfify size and count of sub buffers in relay file system. You may try to increase these if skbtrace reported some traced data are dropped.</dd>
<dt><tt class="docutils literal"><span class="pre">-c</span> <span class="pre">PATH_LIST</span></tt></dt>
<dd><p class="first">The comma separated path list to locate configuration file skbtrace.conf. All configurations in found skbtrace.conf files will be merged together.</p>
<p class="last">Default is to enable all events.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">-C</span> <span class="pre">CONTEXT_LIST</span></tt></dt>
<dd><p class="first">Specify to which are interested contexts events are triggered under. Events may be triggered under hard interrupt context, softirq context or syscall context. Sometimes, we only focus on events are triggered under specific contexts, this option provides such capability to filter out these uninterested contexts.</p>
<ul>
<li><dl class="first docutils">
<dt>CONTEXT_LIST The comma separated CONTEXT list, CONTEXT may be:</dt>
<dd><ul class="first last simple">
<li>syscall</li>
<li>softirq</li>
<li>hardirq</li>
</ul>
</dd>
</dl>
</li>
</ul>
<p class="last">Default are all contexts.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">-p</span> <span class="pre">PROCESSOR_MASK</span></tt></dt>
<dd><p class="first">You can use this option if the events are triggered on only some specific processors are interested.</p>
<blockquote>
<ul class="simple">
<li>PROCESSOR_MASK 1 = CPU0, CPU1, 4 = CPU2, 8 = cpu3, and so on.</li>
</ul>
</blockquote>
<p class="last">Default is all processors.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">-e</span> <span class="pre">EVENT[,OPTIONS_LIST]</span></tt></dt>
<dd><p class="first">Specify which are events you interested to, this option can be used repeatly, each one give a different trace event.</p>
<blockquote>
<ul class="simple">
<li>EVENT   The name of trace event.</li>
<li>OPTIONS_LIST   The colon separated OPTION list of trace event,</li>
</ul>
</blockquote>
<p>For completed events reference manual, please refer to <a class="reference external" href="events.html#events"><em>Trace events list</em></a> .</p>
<p class="last">Default are to enable all events.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">-F</span> <span class="pre">FILTER</span></tt></dt>
<dd><p class="first">Specify the BPF based packet events filter. Please refer to manual of libpcap for syntax details</p>
<p class="last">Default is empty filter.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">-S</span> <span class="pre">FILTER</span></tt></dt>
<dd><p class="first">Specify the BPF based connection events filter. It only support TCP/IPv4 connections at present, and only can use IP addresses or/and ports. Please refer to manual of libpcap for syntax details.</p>
<p class="last">Default is empty filter.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">-s</span></tt></dt>
<dd>This option is designed to work together with skbparse, it control skbparse to show parsed results at console lively. But this feature still is incompleted.</dd>
<dt><tt class="docutils literal"><span class="pre">-f</span></tt></dt>
<dd>Overwrite possible old traced data without any warning.</dd>
<dt><tt class="docutils literal"><span class="pre">-l</span></tt></dt>
<dd>Show all available trace events list.</dd>
<dt><tt class="docutils literal"><span class="pre">-V</span></tt></dt>
<dd>Show more internal runtime information.</dd>
<dt><tt class="docutils literal"><span class="pre">-v</span></tt></dt>
<dd>Show version number, then quit.</dd>
</dl>
</div>
<div class="section" id="skbparse">
<h2>3.2. skbparse<a class="headerlink" href="#skbparse" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">-v</span></tt></dt>
<dd>Show version number, then quit.</dd>
<dt><tt class="docutils literal"><span class="pre">-s</span></tt></dt>
<dd>Show parsed results on standard output lively, it is a TODO.</dd>
<dt><tt class="docutils literal"><span class="pre">-S</span></tt></dt>
<dd>Show parsed results on standard output.</dd>
<dt><tt class="docutils literal"><span class="pre">-o</span> <span class="pre">PATH</span></tt></dt>
<dd><p class="first">The output directory to save parsed human readable results.</p>
<p class="last">Default is current directory.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">-i</span> <span class="pre">PATH</span></tt></dt>
<dd><p class="first">The output directory to read trace binary data are recorded by skbtrace.</p>
<p class="last">Default is ./skbtrace.results</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">-h</span></tt></dt>
<dd>Show helps, then quit.</dd>
</dl>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../contents.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="">3. Command line options</a><ul>
<li><a class="reference external" href="#skbtrace">3.1. skbtrace</a></li>
<li><a class="reference external" href="#skbparse">3.2. skbparse</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="building.html"
                                  title="previous chapter">2. Building</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="events.html"
                                  title="next chapter">4. Trace events list</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../sources/using/options.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="events.html" title="4. Trace events list"
             >next</a> |</li>
        <li class="right" >
          <a href="building.html" title="2. Building"
             >previous</a> |</li>
        <li><img src="../_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li>
        <li><a href="../index.html">Skbtrace v20120916 documentation</a> &raquo;</li>

          <li><a href="index.html" >The Skbtace User Manual</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
    &copy; <a href="../copyright.html">Copyright</a> 2012, Li Yu.
    <br />
    Last updated on Oct 28, 2012.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.2.
    </div>

  </body>
</html>