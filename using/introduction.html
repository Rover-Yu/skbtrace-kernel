<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>1. Introduction &mdash; Skbtrace v20120916 documentation</title>
    <link rel="stylesheet" href="../static/default.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '20120916',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Skbtrace v20120916 documentation"
          href="../static/opensearch.xml"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="copyright" title="Copyright" href="../copyright.html" />
    <link rel="top" title="Skbtrace v20120916 documentation" href="../index.html" />
    <link rel="up" title="The Skbtace User Manual" href="index.html" />
    <link rel="next" title="2. Building" href="building.html" />
    <link rel="prev" title="The Skbtace User Manual" href="index.html" />
    <link rel="shortcut icon" type="image/png" href="../static/py.png" />
 

  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="building.html" title="2. Building"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="The Skbtace User Manual"
             accesskey="P">previous</a> |</li>
        <li><img src="../_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li>
        <li><a href="../index.html">Skbtrace v20120916 documentation</a> &raquo;</li>

          <li><a href="index.html" accesskey="U">The Skbtace User Manual</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="introduction">
<span id="id1"></span><h1>1. Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<div class="section" id="motivations">
<h2>1.1. Motivations<a class="headerlink" href="#motivations" title="Permalink to this headline">¶</a></h2>
<p>As we known, the blktrace indeed helps Linux file system and block subsystem developers a lot, even it also help them to locate some problems in mm subsystem. However, the networking stack hackers don&#8217;t have similar utility luck such like it, although the tcpdump is very very useful, but they still often are forced to start investigation from limited exported statistics counters, then they may directly dig into source code to guess possible solutions and test their ideas, if good luck doesn&#8217;t arrive, then start another investigation-guess-test loop. Even, for some performance problems, there have no appropriate counters at all. Now, you saw too, it is a time-costly diffcult process, and definitely almost hard to share experiences or report problems. Many users have not enough understanding for protocol stack internals, I saw some detailed reports actually do not carry useful information to describe or solve problem.</p>
<p>The networking subsystem is rather performance sensitive than block subsystem in kernel, so it would better not add too many hardcoded statistics counters directly here. In fact, some folks already tried to add more statistics counters for detailed performance measuration, e.g. RFC4898 and its implementation Web10g project. Web10g is a great project for researchers and engineers on TCP stack, which exports many valuable per-connection details to userland by procfs or netlink interface. However, it tightly depends on TCP and its implementation, other protocols implementation have to need some duplicated works to archive same goal, and it takes also visible overhead (5% - 10% in my simple netperf TCP_STREAM benchmark), I think it&#8217;d better be able to accomplish zero overhead when such powerful tracing or instrumentation feature is turned off.</p>
</div>
<div class="section" id="goals">
<h2>1.2. Goals<a class="headerlink" href="#goals" title="Permalink to this headline">¶</a></h2>
<p>The skbtrace project is designed to achieve below goals:</p>
<ul class="simple">
<li>Provide an extendable tracing infrastructure to support various protocols instead of specific one.</li>
<li>Zero overhead when this feature is turned off.</li>
<li>Directly report tracing details on per-connection/per-skb level instead of exporting information by some summary counters.</li>
<li>Provide both BPF based filter capability for sk_buff (packets) and connections.</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="../contents.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="">1. Introduction</a><ul>
<li><a class="reference external" href="#motivations">1.1. Motivations</a></li>
<li><a class="reference external" href="#goals">1.2. Goals</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="index.html"
                                  title="previous chapter">The Skbtace User Manual</a></p>
            <h4>Next topic</h4>
            <p class="topless"><a href="building.html"
                                  title="next chapter">2. Building</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="../sources/using/introduction.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="../search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="building.html" title="2. Building"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="The Skbtace User Manual"
             >previous</a> |</li>
        <li><img src="../_static/py.png" alt=""
                 style="vertical-align: middle; margin-top: -1px"/></li>
        <li><a href="../index.html">Skbtrace v20120916 documentation</a> &raquo;</li>

          <li><a href="index.html" >The Skbtace User Manual</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
    &copy; <a href="../copyright.html">Copyright</a> 2012, Li Yu.
    <br />
    Last updated on Oct 28, 2012.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.2.
    </div>

  </body>
</html>